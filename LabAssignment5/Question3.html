<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Validate Parenthesis</title>
    <script>

        function validateParenthesis(str) {
            let bracketsStack = [];
            for(let i=0; i<str.length; i++){
                if(str[i]==='(' || str[i]==='[' || str[i]==='{'){
                    console.log('pushed ' + str[i]);
                    bracketsStack.push(str[i]);
                }
                else if( str[i] === ')'){
                    if(bracketsStack.length !== 0 && bracketsStack[bracketsStack.length-1] === '('){
                        console.log('Before pop ' + bracketsStack[bracketsStack.length-1]);
                        bracketsStack.pop();
                        console.log('After pop ' + bracketsStack[bracketsStack.length-1]);
                    }
                    else {
                        console.log('When false ' + bracketsStack[bracketsStack.length-1]);
                        return false;
                    }
                }
                else if( str[i] === '}'){
                    if(bracketsStack.length > 0 && bracketsStack[bracketsStack.length-1] === '{'){
                        console.log('Before pop ' + bracketsStack[bracketsStack.length-1]);
                        bracketsStack.pop();
                        console.log('After pop ' + bracketsStack[bracketsStack.length-1]);
                    }
                    else {
                        console.log('When false ' + bracketsStack[bracketsStack.length-1]);
                        return false;
                    }
                }
                else if( str[i] === ']'){
                    if(bracketsStack.length !== 0 && bracketsStack[bracketsStack.length-1] === '['){
                        console.log('Before pop ' + bracketsStack[bracketsStack.length-1]);
                        bracketsStack.pop();
                        console.log('After pop ' + bracketsStack[bracketsStack.length-1]);
                    }
                    else {
                        console.log('When false ' + bracketsStack[bracketsStack.length-1]);
                        return false;
                    }
                }
            }
            return bracketsStack.length === 0;
        }
        
        function validate(str){
            document.getElementById('result').innerText =
                validateParenthesis(str) === true ? 'The string is valid' : 'The string is invalid' ;
        }

        function clear() {
            document.getElementById('input').innerText = '';
            document.getElementById('result').innerText = '';
        }
    </script>
</head>
<body>
<label>Input String: <input type="text" id="input"  placeholder="Enter the string" onfocus="clear()">
</label>
<input type="button" onclick="validate(document.getElementById('input').value)"; value="Validate">
<input type="button" onclick="document.getElementById('input').value=''; 
                            document.getElementById('result').innerText=''" value="Reset">
<h1 id="result"></h1>
</body>
</html>
